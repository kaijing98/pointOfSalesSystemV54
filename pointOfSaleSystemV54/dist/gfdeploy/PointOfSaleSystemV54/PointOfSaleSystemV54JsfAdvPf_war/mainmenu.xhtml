<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:p="http://primefaces.org/ui">

    <section id="mainmenu" class="mainmenu">
        <h3>Main Menu</h3>
        <nav>
            <h:form>
                    
                <p:menu style="width:200px;">

                    <p:submenu label="System">
                        <p:menuitem value="Home" outcome="/index" icon="fa fa-home" />
                        <p:menuitem value="Logout" actionListener="#{loginManagedBean.logout}" icon="fa fa-sign-out" rendered="#{sessionScope.isLogin == true}" />
                    </p:submenu>
                    
                    <p:submenu label="E-commerce" rendered="#{sessionScope.isLogin == true and (sessionScope.isStaff == false)}">
                        <p:menuitem value="Browse All Products" outcome="/customerOperation/browseAllProducts.xhtml" icon="fa fa-list" />
                        <p:menuitem value="Shopping Cart" onclick="PF('shoppingCart').show();" icon="fa fa-list" />
                    </p:submenu>

                    <p:submenu label="Cashier Operation" rendered="#{sessionScope.isLogin == true and (sessionScope.isStaff == true)}">
                        <p:menuitem value="Checkout" outcome="/cashierOperation/checkout.xhtml" icon="fa fa-shopping-cart" />
                        <p:menuitem value="Void/Refund" outcome="/cashierOperation/voidRefund.xhtml" icon="fa fa-arrow-circle-right" />
                        <p:menuitem value="View My Sale Transactions" outcome="/cashierOperation/viewMySaleTransactions.xhtml" icon="fa fa-list" />
                    </p:submenu>
                    
                    <p:submenu label="System Administration" rendered="#{sessionScope.isLogin == true and (sessionScope.isStaff == true)}">
                        <p:menuitem value="Staff Management" outcome="/systemAdministration/staffManagement.xhtml" icon="fa fa-users" />
                        <p:menuitem value="Product Management" outcome="/systemAdministration/productManagement.xhtml" icon="fa fa-tags" />
                        <p:menuitem value="Search Products by Name" outcome="/systemAdministration/searchProductsByName.xhtml" icon="fa fa-search" />
                        <p:menuitem value="Filter Products by Category" outcome="/systemAdministration/filterProductsByCategory.xhtml" icon="fa fa-filter" />
                        <p:menuitem value="Filter Products by Tags" outcome="/systemAdministration/filterProductsByTags.xhtml" icon="fa fa-filter" />
                    </p:submenu>                        

                </p:menu> 

            </h:form>
            
        </nav>
        
                        <p:dialog header="Current Shopping Cart" widgetVar="shoppingCart">
                    <p:panelGrid>

                        <p:row>
                            <p:column>
                                <p:outputLabel for="totalLineItem" value="Total Line Items: " style="font-weight: bold;" />
                            </p:column>
                            <p:column>
                                <h:outputText id="totalLineItem" value="#{shoppingCartJSFManagedBean.totalLineItem}" />
                            </p:column>
                        </p:row>

                        <p:row>
                            <p:column>
                                <p:outputLabel for="totalQuantity" value="Total Quantity: " style="font-weight: bold;" />
                            </p:column>
                            <p:column>
                                <h:outputText id="totalQuantity" value="#{shoppingCartJSFManagedBean.totalQuantity}" />
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column>
                                <p:outputLabel for="totalAmount" value="Total Amount: " style="font-weight: bold;"/>
                            </p:column>
                            <p:column>
                                <h:outputText id="totalAmount" value="#{shoppingCartJSFManagedBean.totalAmount}" />
                            </p:column>
                        </p:row>

                    </p:panelGrid>

                </p:dialog>
            
    </section>

</ui:composition>

